"use strict";window.Modalite=function(){function t(t,e){var s=new XMLHttpRequest;return s.addEventListener("load",function(){this.status>=200&&this.status<300?(t.classList.add(L),t.classList.remove(m)):t.classList.add(m),t.innerHTML=s.responseText}),s.addEventListener("error",function(){t.classList.add(m)}),s.addEventListener("loadstart",function(){t.classList.add(v)}),s.addEventListener("loadend",function(){t.classList.remove(v)}),s.open("GET",e),s.send(),s}function e(t,e){t.src=e,t.classList.add(v),t.addEventListener("load",function(){t.classList.add(L),t.classList.remove(v)})}function s(s,n,a,i){if(a(),0===n.length)return void i();"IFRAME"===s.tagName?(e(s,n),s.addEventListener("load",i)):t(s,n).addEventListener("loadend",i)}function n(t,e,n){[].forEach.call(t.getElementsByTagName("*"),function(t){var a=t.getAttribute(f);"string"!=typeof a||t.classList.contains(L)||s(t,a,e,n)})}function a(t){var e=0;n(t,function(){e+=1},function(){(e-=1)<=0&&(t.classList.remove(c),t.classList.add(u))}),e>0&&t.classList.add(c)}function i(t){return t&&null!==t.getAttribute(E)}function r(t,e){var s=0,n=!1;return null!==t.getAttribute(g)&&([].forEach.call(t.getElementsByTagName("*"),function(a,i){var r=a.getAttribute(f);if(null!==r){var o=e[s]||"";r!==o&&(o.length&&!n&&(t.classList.remove(c),t.classList.remove(u),n=!0),a.setAttribute(f,o),a.classList.remove(L),a.classList.remove(v),a.classList.remove(m),a.innerHTML=""),s++}}),!0)}function o(t){return!(!i(t)||t.classList.contains(l))&&(t.classList.add(l),t.style.zIndex=b++,null!==t.getAttribute(g)&&!1===t.classList.contains(c)&&!1===t.classList.contains(u)&&a(t),!0)}function d(t){return!(!i(t)||!t.classList.contains(l))&&(t.classList.remove(l),!0)}var l="is-visible",c="is-loading",u="is-loaded",L="is-remote-success",m="is-remote-error",v="is-remote-loading",f="data-modalite-remote",g="data-modalite-has-remote",E="data-modalite-modal",b=9999;return document.addEventListener("click",function(t){var e=t.srcElement||t.target;if(null!==e.getAttribute(E))return void d(e);var s=e.getAttribute("data-modalite-open");if(s){var n,a=s.indexOf("@"),i=s;if(-1!==a&&(i=s.substr(0,a),n=s.substr(a+1).split(",")),(c=document.getElementById(i))&&(n&&r(c,n),o(c)))return}var l=e.getAttribute("data-modalite-close");if(null!==l)if(l.length>0){var c=document.getElementById(l);c&&d(c)}else for(var u=e.parentNode;u&&u!==document.body;){if(null!==u.getAttribute(E)){d(u);break}u=u.parentNode}}),{open:o,close:d,setRemotes:r}}();